<!DOCTYPE html>
<html>
<head>
  <title>Translation Management - M3mobile</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(#1e1e71ff 0px, #1e1e71ff 70px, #1e1e7100 300px, #8880),
        linear-gradient(-30deg, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881),
        linear-gradient(30deg, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881, #fff1, #8881);
      background-color: #b0b3c0;
      margin: 0;
      padding: 0;
    }
    
    .header-logo {
      padding: 10px;
      color: white;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    
    .container {
      max-width: 1200px;
      margin: 40px auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .admin-header {
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .admin-header h2 {
      color: #1e2071;
      margin: 0;
    }
    
    .section {
      margin-bottom: 30px;
      padding: 20px;
      background-color: #f9f9f9;
      border-radius: 6px;
    }
    
    .section h3 {
      color: #333;
      margin-top: 0;
      margin-bottom: 15px;
    }
    
    .controls {
      margin-bottom: 20px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .control-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    
    select, button, input {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }
    
    select {
      min-width: 150px;
    }
    
    button {
      background-color: #1e2071;
      color: white;
      border: none;
      cursor: pointer;
      white-space: nowrap;
    }
    
    button:hover {
      background-color: #161a5e;
    }
    
    button.secondary {
      background-color: #777;
    }
    
    button.secondary:hover {
      background-color: #555;
    }
    
    button.destructive {
      background-color: #d9534f;
    }
    
    button.destructive:hover {
      background-color: #c9302c;
    }
    
    .translation-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    
    .translation-table th {
      background-color: #f1f1f1;
      text-align: left;
      padding: 10px;
    }
    
    .translation-table td {
      border-top: 1px solid #eee;
      padding: 10px;
    }
    
    .translation-table tr:hover {
      background-color: #f5f5f5;
    }
    
    .translation-input {
      width: 100%;
      padding: 8px;
      box-sizing: border-box;
      font-size: 14px;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    
    .stat-card {
      padding: 15px;
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    .stat-title {
      margin: 0 0 10px 0;
      color: #555;
      font-size: 14px;
      font-weight: bold;
    }
    
    .stat-value {
      font-size: 22px;
      font-weight: bold;
      color: #1e2071;
      margin: 0;
    }
    
    .progress-bar {
      width: 100%;
      height: 8px;
      background-color: #eee;
      border-radius: 4px;
      margin-top: 10px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background-color: #1e2071;
    }
    
    .cache-section {
      margin-top: 30px;
    }
    
    .cache-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .cache-controls {
      display: flex;
      gap: 10px;
    }
    
    .cache-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .cache-table th {
      background-color: #f1f1f1;
      text-align: left;
      padding: 10px;
    }
    
    .cache-table td {
      border-top: 1px solid #eee;
      padding: 10px;
    }
    
    .footer {
      text-align: center;
      margin-top: 30px;
      padding-top: 15px;
      border-top: 1px solid #eee;
    }
    
    .footer a {
      color: #1e2071;
      text-decoration: none;
      margin: 0 10px;
    }
    
    .search-box {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      margin-bottom: 15px;
    }
    
    .loading {
      display: none;
      text-align: center;
      padding: 20px;
    }
    
    .notification {
      padding: 10px 15px;
      margin-bottom: 15px;
      border-radius: 4px;
      color: white;
      display: none;
    }
    
    .notification.success {
      background-color: #5cb85c;
    }
    
    .notification.error {
      background-color: #d9534f;
    }
    
    .notification.info {
      background-color: #5bc0de;
    }
    
    /* Pagination controls */
    .pagination {
      display: flex;
      justify-content: center;
      gap: 5px;
      margin-top: 20px;
    }
    
    .pagination button {
      padding: 5px 10px;
      background-color: #f1f1f1;
      color: #333;
      border: 1px solid #ddd;
    }
    
    .pagination button.active {
      background-color: #1e2071;
      color: white;
      border-color: #1e2071;
    }
    
    .pagination button:hover:not(.active) {
      background-color: #ddd;
    }
  </style>
</head>
<body>
  <div class="header-logo">M3mobile - Translation Management</div>
  
  <div class="container">
    <div class="admin-header">
      <h2>Translation Management</h2>
      <a href="/dashboard" style="color: #1e2071; text-decoration: none;">Back to Dashboard</a>
    </div>
    
    <div id="notification" class="notification"></div>
    
    <div class="section">
      <h3>Translation Editor</h3>
      
      <div class="controls">
        <div class="control-group">
          <label for="source-lang">Source Language</label>
          <select id="source-lang">
            <option value="de">German (DE)</option>
          </select>
        </div>
        
        <div class="control-group">
          <label for="target-lang">Target Language</label>
          <select id="target-lang">
            <option value="en">English (EN)</option>
            <option value="fr">French (FR)</option>
            <option value="es">Spanish (ES)</option>
            <option value="it">Italian (IT)</option>
            <!-- More languages will be populated dynamically -->
          </select>
        </div>
        
        <div class="control-group">
          <label for="namespace">Section</label>
          <select id="namespace">
            <option value="common">Common</option>
            <option value="rma">RMA</option>
            <option value="dashboard">Dashboard</option>
            <option value="auth">Authentication</option>
            <!-- More namespaces will be populated dynamically -->
          </select>
        </div>
        
        <div class="control-group">
          <label>&nbsp;</label>
          <button id="load-translations">Load Translations</button>
        </div>
        
        <div class="control-group">
          <label>&nbsp;</label>
          <button id="auto-translate" class="secondary">Auto-Translate Missing</button>
        </div>
      </div>
      
      <input type="text" id="search-translations" class="search-box" placeholder="Search translations...">
      
      <div id="loading" class="loading">Loading translations...</div>
      
      <div id="translations-container">
        <table class="translation-table">
          <thead>
            <tr>
              <th style="width: 30%;">Key</th>
              <th style="width: 35%;">Source Text</th>
              <th style="width: 35%;">Translation</th>
            </tr>
          </thead>
          <tbody id="translations-body">
            <!-- Translations will be populated here -->
          </tbody>
        </table>
        
        <div class="pagination" id="pagination">
          <!-- Pagination controls will be added here -->
        </div>
        
        <div style="margin-top: 20px; text-align: right;">
          <button id="save-translations">Save Translations</button>
        </div>
      </div>
    </div>
    
    <div class="section">
      <h3>Translation Statistics</h3>
      
      <div class="stats-grid" id="translation-stats">
        <!-- Statistics will be populated here -->
      </div>
      
      <div class="cache-section">
        <div class="cache-header">
          <h3>Translation Cache</h3>
          <div class="cache-controls">
            <select id="cache-language">
              <option value="">All Languages</option>
              <!-- Language options will be populated dynamically -->
            </select>
            <button id="clear-cache" class="destructive">Clear Cache</button>
          </div>
        </div>
        
        <table class="cache-table">
          <thead>
            <tr>
              <th>Language</th>
              <th>Cached Entries</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="cache-stats">
            <!-- Cache statistics will be populated here -->
          </tbody>
        </table>
      </div>
    </div>
    
    <div class="footer">
      <a href="/dashboard">Back to Dashboard</a>
    </div>
  </div>
  
  <script>
    // Global variables
    let translations = {};
    let sourceTranslations = {};
    let currentPage = 1;
    const itemsPerPage = 20;
    
    // DOM elements
    const sourceLangSelect = document.getElementById('source-lang');
    const targetLangSelect = document.getElementById('target-lang');
    const namespaceSelect = document.getElementById('namespace');
    const loadButton = document.getElementById('load-translations');
    const autoTranslateButton = document.getElementById('auto-translate');
    const saveButton = document.getElementById('save-translations');
    const translationsBody = document.getElementById('translations-body');
    const paginationContainer = document.getElementById('pagination');
    const searchInput = document.getElementById('search-translations');
    const loadingIndicator = document.getElementById('loading');
    const notificationBox = document.getElementById('notification');
    const cacheLanguageSelect = document.getElementById('cache-language');
    const clearCacheButton = document.getElementById('clear-cache');
    const cacheStatsTable = document.getElementById('cache-stats');
    
    // Initialize the page
    document.addEventListener('DOMContentLoaded', async () => {
      // Load available languages and namespaces
      await loadAvailableTranslations();
      
      // Load statistics
      await loadStatistics();
      
      // Event listeners
      loadButton.addEventListener('click', loadTranslations);
      autoTranslateButton.addEventListener('click', autoTranslateMissing);
      saveButton.addEventListener('click', saveTranslations);
      searchInput.addEventListener('input', filterTranslations);
      clearCacheButton.addEventListener('click', clearCache);
      cacheLanguageSelect.addEventListener('change', loadStatistics);
    });
    
    // Load available languages and namespaces
    async function loadAvailableTranslations() {
      try {
        const response = await fetch('/translation-admin/available-translations');
        const data = await response.json();
        
        // Populate language dropdowns
        populateLanguageSelect(targetLangSelect, data.languages.filter(lang => lang !== 'de'));
        populateLanguageSelect(cacheLanguageSelect, data.languages, true);
        
        // Populate namespace dropdown
        populateNamespaceSelect(namespaceSelect, data.namespaces);
      } catch (error) {
        showNotification('Error loading available translations: ' + error.message, 'error');
      }
    }
    
    // Populate language select dropdown
    function populateLanguageSelect(select, languages, includeAll = false) {
      // Clear existing options, keeping only the first one
      select.innerHTML = '';
      
      if (includeAll) {
        const allOption = document.createElement('option');
        allOption.value = '';
        allOption.textContent = 'All Languages';
        select.appendChild(allOption);
      }
      
      // Language name mapping
      const languageNames = {
        'de': 'German (DE)',
        'en': 'English (EN)',
        'fr': 'French (FR)',
        'it': 'Italian (IT)',
        'es': 'Spanish (ES)',
        'pt': 'Portuguese (PT)',
        'nl': 'Dutch (NL)',
        'da': 'Danish (DA)',
        'sv': 'Swedish (SV)',
        'fi': 'Finnish (FI)',
        'el': 'Greek (EL)',
        'cs': 'Czech (CS)',
        'pl': 'Polish (PL)',
        'hu': 'Hungarian (HU)',
        'sk': 'Slovak (SK)',
        'sl': 'Slovenian (SL)',
        'et': 'Estonian (ET)',
        'lv': 'Latvian (LV)',
        'lt': 'Lithuanian (LT)',
        'ro': 'Romanian (RO)',
        'bg': 'Bulgarian (BG)',
        'hr': 'Croatian (HR)',
        'ga': 'Irish (GA)',
        'mt': 'Maltese (MT)',
        'ru': 'Russian (RU)',
        'tr': 'Turkish (TR)',
        'ar': 'Arabic (AR)',
        'zh': 'Chinese (ZH)',
        'uk': 'Ukrainian (UK)',
        'sr': 'Serbian (SR)',
        'he': 'Hebrew (HE)',
        'ko': 'Korean (KO)',
        'ja': 'Japanese (JA)'
      };
      
      // Add language options
      languages.forEach(lang => {
        const option = document.createElement('option');
        option.value = lang;
        option.textContent = languageNames[lang] || `${lang.toUpperCase()}`;
        select.appendChild(option);
      });
    }
    
    // Populate namespace select dropdown
    function populateNamespaceSelect(select, namespaces) {
      // Clear existing options
      select.innerHTML = '';
      
      // Namespace name mapping
      const namespaceNames = {
        'common': 'Common',
        'rma': 'RMA',
        'dashboard': 'Dashboard',
        'auth': 'Authentication'
      };
      
      // Add namespace options
      namespaces.forEach(ns => {
        const option = document.createElement('option');
        option.value = ns;
        option.textContent = namespaceNames[ns] || ns;
        select.appendChild(option);
      });
    }
    
    // Load translations for the selected language and namespace
    async function loadTranslations() {
      const sourceLang = sourceLangSelect.value;
      const targetLang = targetLangSelect.value;
      const namespace = namespaceSelect.value;
      
      // Show loading indicator
      loadingIndicator.style.display = 'block';
      translationsBody.innerHTML = '';
      
      try {
        // Load source translations (German)
        const sourceResponse = await fetch(`/translation-admin/translation/${sourceLang}/${namespace}`);
        if (!sourceResponse.ok) throw new Error(`Error loading source translations: ${sourceResponse.statusText}`);
        sourceTranslations = await sourceResponse.json();
        
        // Load target translations
        let targetTranslations = {};
        try {
          const targetResponse = await fetch(`/translation-admin/translation/${targetLang}/${namespace}`);
          if (targetResponse.ok) {
            targetTranslations = await targetResponse.json();
          }
        } catch (error) {
          console.warn(`Target translations not found, will create new file: ${error.message}`);
        }
        
        // Merge source and target translations
        translations = {};
        for (const key in sourceTranslations) {
          translations[key] = {
            key: key,
            source: sourceTranslations[key],
            target: targetTranslations[key] || ''
          };
        }
        
        // Display translations
        displayTranslations();
      } catch (error) {
        showNotification(`Error loading translations: ${error.message}`, 'error');
      } finally {
        // Hide loading indicator
        loadingIndicator.style.display = 'none';
      }
    }
    
    // Display translations in the table
    function displayTranslations(filtered = false) {
      // Clear existing rows
      translationsBody.innerHTML = '';
      
      // Get keys for pagination
      let keys = Object.keys(translations);
      
      if (filtered) {
        const searchTerm = searchInput.value.toLowerCase();
        keys = keys.filter(key => 
          key.toLowerCase().includes(searchTerm) || 
          translations[key].source.toLowerCase().includes(searchTerm) || 
          translations[key].target.toLowerCase().includes(searchTerm)
        );
      }
      
      // Sort keys by missing translations first
      keys.sort((a, b) => {
        const aHasTranslation = !!translations[a].target;
        const bHasTranslation = !!translations[b].target;
        if (aHasTranslation === bHasTranslation) return 0;
        return aHasTranslation ? 1 : -1;
      });
      
      // Paginate
      const totalPages = Math.ceil(keys.length / itemsPerPage);
      if (currentPage > totalPages) currentPage = 1;
      
      const start = (currentPage - 1) * itemsPerPage;
      const end = Math.min(start + itemsPerPage, keys.length);
      const pageKeys = keys.slice(start, end);
      
      // Create rows for each translation
      pageKeys.forEach(key => {
        const { source, target } = translations[key];
        
        const row = document.createElement('tr');
        
        // Key cell
        const keyCell = document.createElement('td');
        keyCell.textContent = key;
        keyCell.title = key;
        row.appendChild(keyCell);
        
        // Source text cell
        const sourceCell = document.createElement('td');
        sourceCell.textContent = source;
        row.appendChild(sourceCell);
        
        // Translation cell
        const targetCell = document.createElement('td');
        const input = document.createElement('input');
        input.type = 'text';
        input.className = 'translation-input';
        input.value = target || '';
        input.dataset.key = key;
        input.addEventListener('input', (e) => {
          translations[key].target = e.target.value;
        });
        targetCell.appendChild(input);
        row.appendChild(targetCell);
        
        // Add row to table
        translationsBody.appendChild(row);
      });
      
      // Update pagination
      updatePagination(totalPages);
    }
    
    // Update pagination controls
    function updatePagination(totalPages) {
      paginationContainer.innerHTML = '';
      
      if (totalPages <= 1) return;
      
      // Previous button
      const prevButton = document.createElement('button');
      prevButton.textContent = '«';
      prevButton.disabled = currentPage === 1;
      prevButton.addEventListener('click', () => {
        if (currentPage > 1) {
          currentPage--;
          displayTranslations(searchInput.value.trim() !== '');
        }
      });
      paginationContainer.appendChild(prevButton);
      
      // Page buttons
      const maxVisiblePages = 5;
      let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
      let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
      
      if (endPage - startPage + 1 < maxVisiblePages) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }
      
      for (let i = startPage; i <= endPage; i++) {
        const pageButton = document.createElement('button');
        pageButton.textContent = i;
        pageButton.className = i === currentPage ? 'active' : '';
        pageButton.addEventListener('click', () => {
          currentPage = i;
          displayTranslations(searchInput.value.trim() !== '');
        });
        paginationContainer.appendChild(pageButton);
      }
      
      // Next button
      const nextButton = document.createElement('button');
      nextButton.textContent = '»';
      nextButton.disabled = currentPage === totalPages;
      nextButton.addEventListener('click', () => {
        if (currentPage < totalPages) {
          currentPage++;
          displayTranslations(searchInput.value.trim() !== '');
        }
      });
      paginationContainer.appendChild(nextButton);
    }
    
    // Filter translations based on search input
    function filterTranslations() {
      currentPage = 1; // Reset to first page when filtering
      displayTranslations(true);
    }
    
    // Save translations
    async function saveTranslations() {
      const targetLang = targetLangSelect.value;
      const namespace = namespaceSelect.value;
      
      // Prepare data
      const output = {};
      for (const key in translations) {
        output[key] = translations[key].target;
      }
      
      // Show loading indicator
      loadingIndicator.style.display = 'block';
      
      try {
        const response = await fetch(`/translation-admin/translation/${targetLang}/${namespace}`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(output)
        });
        
        if (!response.ok) throw new Error(`Save failed with status: ${response.status}`);
        
        showNotification('Translations saved successfully!', 'success');
        
        // Refresh stats
        await loadStatistics();
      } catch (error) {
        showNotification(`Error saving translations: ${error.message}`, 'error');
      } finally {
        // Hide loading indicator
        loadingIndicator.style.display = 'none';
      }
    }
    
    // Auto-translate missing values
    async function autoTranslateMissing() {
      const sourceLang = sourceLangSelect.value;
      const targetLang = targetLangSelect.value;
      const namespace = namespaceSelect.value;
      
      // Confirm action
      if (!confirm(`This will automatically translate all missing texts from ${sourceLang} to ${targetLang}. Continue?`)) {
        return;
      }
      
      // Show loading indicator
      loadingIndicator.style.display = 'block';
      
      try {
        const response = await fetch('/translation-admin/auto-translate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            sourceLang,
            targetLang,
            namespace
          })
        });
        
        const data = await response.json();
        
        if (!response.ok) throw new Error(data.error || 'Translation failed');
        
        showNotification(data.message, 'success');
        
        // Reload translations to see changes
        await loadTranslations();
        
        // Refresh stats
        await loadStatistics();
      } catch (error) {
        showNotification(`Auto-translation error: ${error.message}`, 'error');
      } finally {
        // Hide loading indicator
        loadingIndicator.style.display = 'none';
      }
    }
    
    // Load translation and cache statistics
    async function loadStatistics() {
      try {
        const response = await fetch('/translation-admin/statistics');
        const data = await response.json();
        
        // Update translation stats
        const statsGrid = document.getElementById('translation-stats');
        statsGrid.innerHTML = '';
        
        for (const lang in data.fileStats) {
          const langStats = data.fileStats[lang];
          
          const card = document.createElement('div');
          card.className = 'stat-card';
          
          const title = document.createElement('h4');
          title.className = 'stat-title';
          title.textContent = lang.toUpperCase();
          
          const value = document.createElement('p');
          value.className = 'stat-value';
          value.textContent = `${langStats.total.translated}/${langStats.total.keys}`;
          
          const progress = document.createElement('div');
          progress.className = 'progress-bar';
          
          const fill = document.createElement('div');
          fill.className = 'progress-fill';
          fill.style.width = `${langStats.total.progress || 0}%`;
          
          progress.appendChild(fill);
          card.appendChild(title);
          card.appendChild(value);
          card.appendChild(progress);
          
          statsGrid.appendChild(card);
        }
        
        // Update cache stats
        cacheStatsTable.innerHTML = '';
        
        const selectedLanguage = cacheLanguageSelect.value;
        const cacheStats = data.cacheStats.filter(stat => 
          !selectedLanguage || stat.language === selectedLanguage
        );
        
        if (cacheStats.length === 0) {
          const emptyRow = document.createElement('tr');
          const emptyCell = document.createElement('td');
          emptyCell.colSpan = 3;
          emptyCell.textContent = 'No cache entries found';
          emptyCell.style.textAlign = 'center';
          emptyRow.appendChild(emptyCell);
          cacheStatsTable.appendChild(emptyRow);
        } else {
          cacheStats.forEach(stat => {
            const row = document.createElement('tr');
            
            const langCell = document.createElement('td');
            langCell.textContent = stat.language.toUpperCase();
            
            const countCell = document.createElement('td');
            countCell.textContent = stat.count;
            
            const actionsCell = document.createElement('td');
            const clearButton = document.createElement('button');
            clearButton.className = 'destructive';
            clearButton.textContent = 'Clear';
            clearButton.addEventListener('click', () => clearCache(stat.language));
            actionsCell.appendChild(clearButton);
            
            row.appendChild(langCell);
            row.appendChild(countCell);
            row.appendChild(actionsCell);
            
            cacheStatsTable.appendChild(row);
          });
        }
      } catch (error) {
        showNotification(`Error loading statistics: ${error.message}`, 'error');
      }
    }
    
    // Clear translation cache
    async function clearCache(language) {
      const lang = language || cacheLanguageSelect.value;
      
      // Confirm action
      if (!confirm(`Are you sure you want to clear the translation cache${lang ? ` for ${lang.toUpperCase()}` : ''}? This cannot be undone.`)) {
        return;
      }
      
      try {
        const response = await fetch('/translation-admin/clear-cache', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            language: lang
          })
        });
        
        const data = await response.json();
        
        if (!response.ok) throw new Error(data.error || 'Failed to clear cache');
        
        showNotification(data.message, 'success');
        
        // Refresh stats
        await loadStatistics();
      } catch (error) {
        showNotification(`Error clearing cache: ${error.message}`, 'error');
      }
    }
    
    // Show notification
    function showNotification(message, type = 'info') {
      const notificationBox = document.getElementById('notification');
      notificationBox.textContent = message;
      notificationBox.className = `notification ${type}`;
      notificationBox.style.display = 'block';
      
      // Hide after 5 seconds
      setTimeout(() => {
        notificationBox.style.display = 'none';
      }, 5000);
    }
  </script>
</body>
</html>